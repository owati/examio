(this.webpackJsonpexamio=this.webpackJsonpexamio||[]).push([[0],{22:function(e,t,a){},32:function(e,t,a){},35:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),c=a(23),i=a.n(c),l=(a(32),a(4)),r=a(2),o=a(11),d=a(3),m=a(7),u=a.n(m),j=(a(33),a(24)),x=a.n(j),h=(a(34),a.p+"static/media/examio.1004fcba.png"),b=(a(35),a(0));var p=function(e){var t;return Object(n.useEffect)((function(){if(e.show){var a=1;t=setInterval((function(){for(var e=1;e<4;e++){var t=document.getElementById("load".concat(e));e===a?(t.style.width="13px",t.style.height="13px"):(t.style.width="10px",t.style.height="10px")}3===a?a=1:a++}),500)}else clearInterval(t);return function(){clearInterval(t)}}),[e]),e.show?Object(b.jsxs)("div",{className:"load-center",children:[Object(b.jsx)("img",{src:h,height:"30",width:"120"}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",width:"50px",height:"30px",marginTop:"10px"},children:[Object(b.jsx)("div",{id:"load1"}),Object(b.jsx)("div",{id:"load2"}),Object(b.jsx)("div",{id:"load3"})]})]}):""};var g=function(e){return Object(b.jsxs)("h1",{children:["Hello world == ",e.user.name]})},f=a(5),O=a(14),y=a(19),v=a.n(y),w=a(25),N="https://examio.herokuapp.com/",k=function(){var e=Object(w.a)(v.a.mark((function e(){var t,a,n,s,c,i,l=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:"GET",a=l.length>1&&void 0!==l[1]?l[1]:null,n=l.length>2&&void 0!==l[2]?l[2]:{},s=l.length>3?l[3]:void 0,e.prev=4,"GET"===t){e.next=11;break}return e.next=8,fetch(N+a,{method:t,body:JSON.stringify(n),headers:{"content-type":"application/json"}});case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,fetch(N+a);case 13:e.t0=e.sent;case 14:return c=e.t0,s.status=c.status,e.next=18,c.json();case 18:i=e.sent,s.data=i,console.log(s),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(4),console.log(e.t1);case 26:case"end":return e.stop()}}),e,null,[[4,23]])})));return function(){return e.apply(this,arguments)}}(),C=function(e){var t=Object(n.useState)(!1),a=Object(r.a)(t,2),s=a[0],c=a[1];function i(e){return e<10?"0"+e:e}return Object(n.useEffect)((function(){var t,a={};return k("GET","time",{},a).then((function(){if(200===a.status){console.log(e.start);var n=new Date(a.data.curr_time),s=new Date(e.start);console.log(n,s,n-s);var l=s-n;l=Math.floor(l/1e3),t=setInterval((function(){l<1&&(clearInterval(t),c(!0));var e=Math.floor(l/86400),a=Math.floor(l%86400/3600),n=Math.floor(l%3600/60),s=l%60;try{document.getElementById("timer").innerHTML="".concat(e," days ").concat(i(a),":").concat(i(n),":").concat(i(s))}catch(r){}l-=1}),1e3)}})),function(){try{clearInterval(t)}catch(e){}}}),[]),s?void 0===e.children?Object(b.jsx)("h2",{children:"00:00:00"}):Object(b.jsx)("div",{children:e.children}):Object(b.jsx)("h2",{id:"timer",className:"small-marg",style:e.big?{fontSize:"50px"}:{},children:"00:00:00"})},E=a.p+"static/media/backarr.2c7faef3.png",T="examio";function q(e){var t=Object(n.useState)({}),a=Object(r.a)(t,2);a[0],a[1];Object(n.useEffect)((function(){"created"===e.exam.status&&e.exam.start}),[]);try{return Object(b.jsxs)("div",{className:"exam-create-div",style:{height:"100%",overflow:"hidden"},children:[Object(b.jsxs)("div",{style:{display:"flex",position:"sticky"},children:[Object(b.jsx)("h2",{className:"back-button grow",onClick:function(){document.getElementsByClassName("exam-action-page")[0].style.display="none"},children:"\u21b6 "}),Object(b.jsx)("h2",{className:"small-marg",style:{textAlign:"left"},children:"Exam logs."})]}),Object(b.jsx)("div",{className:"log-div",children:function(t){switch(t){case"created":if(null===e.exam.start)return[Object(b.jsx)("h2",{children:"the exam is yet to start nad has no start time.."}),Object(b.jsx)("button",{className:"exam-create-but",children:"Start exam"})];var a=new Date(e.exam.start);return[Object(b.jsx)("h2",{className:"small-marg",children:"Start time: "}),Object(b.jsxs)("h3",{className:"small-marg",children:[a.toLocaleDateString()," ",a.toLocaleTimeString()," "]}),Object(b.jsx)("h3",{className:"small-marg",style:{marginTop:"30px"},children:" exam will begin in.."}),Object(b.jsx)(C,{start:e.exam.start})];case"end":return[Object(b.jsx)("h1",{className:"small-marg",children:"exam has ended.."})];default:return Object(b.jsx)("h1",{children:"Oops"})}}(e.exam.status)})]})}catch(s){return Object(b.jsx)("div",{className:"log-div",children:Object(b.jsx)("h3",{style:{textAlign:"center",color:"rgba(242, 242, 242, 0.529)"},children:"loading..."})})}}function S(e){var t=Object(n.useState)({}),a=Object(r.a)(t,2),s=a[0],c=a[1];return Object(b.jsxs)("div",{className:"exam-create-div",id:"edit-div",children:[Object(b.jsxs)("div",{style:{display:"flex",position:"sticky"},children:[Object(b.jsx)("h2",{className:"back-button grow",onClick:function(){document.getElementsByClassName("exam-action-page")[0].style.display="none"},children:"\u21b6 "}),Object(b.jsx)("h2",{id:"edit-header",style:{margin:"5px"},children:" Edit exam fields..."})]}),Object(b.jsxs)("h3",{style:{color:"rgba(255, 248, 220, 0.474)"},children:["Exam code: ",e.exam["exam code"]]}),function(){function t(e){function t(e,t,a){return"num_of_students"===e&&(e="students"),Object(b.jsx)("input",{className:"create-form-input",style:{width:"150px",height:"30px"},placeholder:t,type:a,onChange:function(t){var a=Object(l.a)({},s);a[e]=t.target.value,c(a)}})}switch(e){case"num_of_students":return["Number of students",t(e,"Number of students","number")];case"total":return["Total marks",t(e,"Total marks","number")];case"end-time":return["End time",Object(b.jsx)("h3",{style:{margin:"10px 0px",color:"rgba(255, 248, 220, 0.474)"},children:"this field cannot be changed"})];case"start":var a=function(t){var a=t.target,n="date"===a.type,i=document.getElementById("".concat(n?"time-update":"date-update")),r=Object(l.a)({},s),o=new Date(n?a.value+" "+i.value:i.value+" "+a.value);"Invalid Date"===String(o)?r[e]=null:r[e]=o.toJSON(),c(r)};return["Start time",Object(b.jsxs)("div",{style:{display:"flex"},children:[Object(b.jsx)("input",{className:"create-form-input",style:{width:"150px",height:"30px"},type:"date",id:"date-update",onChange:function(e){a(e)}}),Object(b.jsx)("input",{className:"create-form-input",style:{width:"150px",height:"30px"},type:"time",id:"time-update",onChange:function(e){a(e)}})]})];case"duration":return["Exam duration",t(e,"Number of students","number")];default:var n=Object(O.a)(e);return n[0]=n[0].toUpperCase(),[n.join(""),t(e,n.join(""),"text")]}}var a=[],n=function(n){"id"===n|"date_stamp"===n|"exam_code"===n||a.push(Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0px",borderBottom:"rgba(255, 248, 220, 0.474) 2px solid"},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{style:{margin:"4px 0px"},children:t(n)[0]}),Object(b.jsx)("h5",{style:{margin:"0px"},children:null===e.exam[n]?"not specified":["start","end-time"].includes(n)?"".concat(new Date(e.exam[n]).toLocaleDateString()+" "+new Date(e.exam[n]).toLocaleTimeString()):["duration","personal_time"].includes(n)?"".concat(e.exam[n][0]," hours ").concat(e.exam[n][1],"minutes ").concat(e.exam[n][2]," seconds"):e.exam[n]})]}),Object(b.jsx)("button",{className:"exam-create-but",onClick:function(){var e=document.getElementById("field-"+n);"0px"===e.style.height?e.style.height="70px":e.style.height="0px"},children:"change"})]}),Object(b.jsx)("div",{style:{height:"0px",overflow:"hidden",transition:"0.8s ease all",display:"flex",justifyContent:"center"},id:"field-"+n,children:t(n)[1]})]}))};for(var i in e.exam)n(i);return a}(),Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"20px"},children:Object(b.jsx)("button",{className:"exam-create-but grow shadow-5",onClick:function(){e.load(),console.log(s);var t={};k("PUT","exam/".concat(e.token,"/").concat(e.id),{changes:s},t).then((function(){200===t.status?(e.load(),e.reload()):function(e){try{var t=document.getElementById("edit-header");document.getElementById("edit-div").scrollTop="0px",t.innerHTML=e,setTimeout((function(){t.innerHTML="Edit questions.."}),2e3)}catch(a){}}("update not sucessfull...")}))},children:"save changes"})})]})}function B(e){var t=Object(n.useState)("obj"),a=Object(r.a)(t,2),s=a[0],c=a[1],i=Object(n.useState)("create"),l=Object(r.a)(i,2),o=l[0],d=l[1],m=Object(n.useState)(4),u=Object(r.a)(m,2),j=u[0],x=u[1];function h(e){var t=document.getElementById("create-header"),a=document.getElementsByClassName("exam-action-page")[0];t.innerHTML=e,a.scrollTop=0,setTimeout((function(){t.innerHTML="Set the exam questions..."}),1500)}function p(t){e.load(),t.preventDefault();var a,n=new FormData(t.target),c=document.getElementById("mark"),i={};if("obj"===s){for(var l=[],r=0;r<j;r++)l.push(n.get("option".concat(r+1)));l=[n.get("option".concat(n.get("correct")))].concat(Object(O.a)(l)),a={question:n.get("question"),option:l.join("--"),mode:"obj"===s?"o":"theory"===s?"t":"g",mark:""===c.value?1:c.value}}else a={question:n.get("question"),option:n.get("option"),mode:"obj"===s?"o":"theory"===s?"t":"g",mark:""===c.value?1:c.value};console.log(a),k("POST","question/".concat(e.token,"/").concat(e.id),a,i).then((function(){if(e.load(),200===i.status){h("Question added successfully"),e.reload();var t,a=Object(f.a)(document.getElementsByClassName("create-form-input"));try{for(a.s();!(t=a.n()).done;){t.value.value=null}}catch(n){a.e(n)}finally{a.f()}}else h(300===i.status?"Questions required are already complete":"could not create exam")}))}function g(e){switch(e){case"obj":for(var t=[],a=0;a<j;a++)t.push(Object(b.jsx)("input",{type:"text",className:"create-form-input",placeholder:"option ".concat(a+1),required:!0,name:"option".concat(a+1)}));return t.push(Object(b.jsx)("input",{type:"number",style:{marginTop:"20px"},className:"create-form-input",placeholder:"correct option number..",required:!0,name:"correct"})),t;case"german":return Object(b.jsx)("textarea",{type:"text",className:"create-form-input",placeholder:"enter the answer for each gap with a newline.",style:{height:"100px"},required:!0,name:"option"});default:return Object(b.jsx)("textarea",{type:"text",className:"create-form-input",placeholder:"enter the answer of the question",style:{height:"100px"},required:!0,name:"option"})}}return Object(n.useEffect)((function(){try{document.getElementById("questions-form").addEventListener("submit",p)}catch(e){}}),[o]),Object(b.jsxs)("div",{className:"exam-create-div",children:[Object(b.jsxs)("div",{className:"exam-view-actions",style:{height:"fit-content"},children:[Object(b.jsx)("div",{className:"exam-view-group grow"+("create"===o?" bottom-border":""),onClick:function(){d("create")},children:Object(b.jsx)("h4",{style:{display:"flex",margin:"5px"},children:" create "})}),Object(b.jsx)("div",{className:"exam-view-group grow"+("view"===o?" bottom-border":""),onClick:function(){d("view")},children:Object(b.jsx)("h4",{style:{display:"flex",margin:"5px"},children:" view "})})]}),Object(b.jsxs)("div",{style:{display:"flex",position:"sticky"},children:[Object(b.jsx)("h2",{className:"back-button grow",onClick:function(){document.getElementsByClassName("exam-action-page")[0].style.display="none"},children:"\u21b6 "}),Object(b.jsxs)("h2",{id:"create-header",style:{margin:"5px"},children:["create"===o?"Set":"View"," the exam questions.."]})]}),function(t){function a(e){var t=Object(n.useState)("mark"),a=Object(r.a)(t,2),s=a[0],c=a[1],i=Object(n.useState)(e.mode),l=Object(r.a)(i,2),o=l[0],d=l[1];return Object(n.useEffect)((function(){document.getElementById("question-update"+e.num).addEventListener("submit",(function(t){t.preventDefault();try{var a=t.target,n=new FormData(a);if("mark"===n.get("field"))if(null===n.get("mark"));else{e.load();var s={};k("PUT","question/".concat(e.token,"/").concat(e.id),{number:e.num,changes:{mark:n.get("mark")}},s).then((function(){200===s.status&&(e.load(),e.reload())}))}else{if("o"===o&&(!function(){for(var t=!1,a=0;a<e.option.length;a++)null===n.get("option".concat(a+1))&&(t=!0);return null===n.get("correct")||t}()?n.append("options",[n.get("correct")].concat(Object(O.a)(function(){for(var t=[],a=0;a<e.option.length;a++)t.push(n.get("option".concat(a+1)));return t}()))):n.append("options","")),n.get("mode")!==e.mode&&(console.log(typeof n.get("question")),""===n.get("question")||null===n.get("options")))return void function(t){var a=document.getElementById("edit-header"+e.num);document.getElementById("question".concat(e.num)).scrollTop="0px",a.innerHTML=t,setTimeout((function(){a.innerHTML="Edit Questions..."}),3e3)}("Once the mode is changed, no field can be left empty");var c={};e.load(),k("PUT","question/".concat(e.token,"/").concat(e.id),{number:e.num,changes:{question:n.get("question"),options:n.get("options")}},c).then((function(){200===c.status&&(e.load(),e.reload())}))}}catch(i){console.log(i)}}))}),[]),Object(b.jsxs)("div",{style:{height:"0px",transition:"1.0s ease all",overflow:"hidden"},id:"question".concat(e.num),children:[Object(b.jsx)("h3",{children:"answers"}),function(t){try{var a=e.option,n=e.answer;if("o"===t){var s,c=[],i=1,l=Object(f.a)(a);try{for(l.s();!(s=l.n()).done;){var r=s.value;c.push(Object(b.jsxs)("div",{children:[" ",Object(b.jsxs)("h4",{style:{margin:"10px"},children:[(o=i,["a","b","c","d","e","f"][o-1]),". ",r," ",r===n?"(correct)":""]})]})),i++}}catch(d){l.e(d)}finally{l.f()}return c}return Object(b.jsxs)("div",{children:[" ",Object(b.jsx)("h4",{style:{margin:"10px"},children:a})]})}catch(m){return Object(b.jsx)("div",{})}var o}(e.mode),Object(b.jsx)("h3",{id:"edit-header"+e.num,children:"Edit Questions.."}),Object(b.jsxs)("form",{id:"question-update"+e.num,style:{padding:"10px"},children:[Object(b.jsxs)("select",{className:"create-form-input",name:"field",onChange:function(e){c(e.target.value)},children:[Object(b.jsx)("option",{style:{color:"black"},value:"mark",children:"Mark"}),Object(b.jsx)("option",{style:{color:"black"},value:"others",children:"Others"})]}),function(){switch(s){case"others":var t=[];if("o"===o){for(var a=0;a<e.option.length;a++)t.push(Object(b.jsx)("input",{type:"text",className:"create-form-input",name:"option".concat(a+1),placeholder:"option ".concat(a+1)}));t.push(Object(b.jsx)("input",{type:"number",className:"create-form-input",name:"correct",placeholder:"the number of the correct option"}))}else t=Object(b.jsx)("textarea",{className:"create-form-input",placeholder:"enter the answer here\n"+("g"===o?"enter the answer for each gap on a new line":""),name:"options"});return Object(b.jsxs)("div",{children:[Object(b.jsxs)("select",{className:"create-form-input",onChange:function(e){d(e.target.value)},name:"mode",value:o,children:[Object(b.jsx)("option",{style:{color:"black"},value:"o",children:" Obj"}),Object(b.jsx)("option",{style:{color:"black"},value:"g",children:"German"}),Object(b.jsx)("option",{style:{color:"black"},value:"t",children:"Theory"})]}),Object(b.jsx)("textarea",{className:"create-form-input",placeholder:"enter the new question"+("g"===o?"\n replace empty gaps with {dash}":""),name:"question"}),t]});case"mark":return Object(b.jsx)("input",{type:"number",name:"mark",className:"create-form-input",placeholder:"exam mark"})}}(),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[" ",Object(b.jsx)("button",{className:"exam-create-but shadow-5 grow",children:"make changes"})]})]})]})}switch(t){case"create":return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"question-div",children:[Object(b.jsxs)("select",{className:"create-form-input",value:s,style:{width:"fit-content"},onChange:function(e){c(e.target.value)},children:[Object(b.jsx)("option",{value:"obj",style:{color:"black"},children:"Obj"}),Object(b.jsx)("option",{value:"theory",style:{color:"black"},children:"Theory"}),Object(b.jsx)("option",{value:"german",style:{color:"black"},children:" German"})]}),"obj"===s?Object(b.jsx)("input",{className:"create-form-input",style:{width:"150px"},type:"number",placeholder:"no of options",onChange:function(e){var t=e.target.value;t<2||t>6?(h("number must be between 2 and 6.."),e.target.value=t<2?2:6,x(e.target.value)):x(e.target.value)}}):"",Object(b.jsx)("input",{className:"create-form-input",style:{width:"100px"},type:"number",min:"0",placeholder:"mark",id:"mark"})]}),Object(b.jsxs)("form",{id:"questions-form",style:{height:"fit-content"},children:[Object(b.jsx)("textarea",{className:"create-form-input",name:"question",style:{height:"100px",marginBottom:"20px"},required:!0,placeholder:"enter the question here...\n"+("german"===s?"replace every gap to be filed with {dash} ":"")}),g(s),Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(b.jsx)("button",{className:"exam-create-but shadow-5 grow",children:"add question"})})]})]});case"view":return Object(b.jsx)("div",{children:function(t){function n(e,t){if("g"===t){for(;e.includes("{dash}");)e=e.replace("{dash}","______");return e}return e}var s,c=[],i=Object(f.a)(t);try{var l=function(){var t=s.value;c.push(Object(b.jsxs)("div",{children:[Object(b.jsxs)("button",{className:"exam-list-button grow shadow-5",onClick:function(){var e=document.getElementById("question".concat(t.number));"300px"===e.style.height?(e.style.height="0px",e.style.overflowY="hidden"):(e.style.height="300px",e.style.overflowY="scroll")},children:[Object(b.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"},children:[Object(b.jsxs)("h4",{style:{margin:"0px"},children:[t.number," ",n(t.question,t.mode)]})," ",Object(b.jsxs)("h4",{style:{margin:"0px"},children:["mode :",t.mode]})]}),Object(b.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"},children:Object(b.jsxs)("h4",{style:{margin:"10px",color:"rgba(255, 248, 220, 0.474)"},children:[t.mark," mark"]})})]}),Object(b.jsx)(a,{answer:t.answer,option:t.options,mode:t.mode,num:t.number,load:e.load,reload:e.reload,token:e.token,id:e.id})]}))};for(i.s();!(s=i.n()).done;)l()}catch(r){i.e(r)}finally{i.f()}return c}(e.questions)})}}(o)]})}function L(e){var t=Object(n.useState)("question"),a=Object(r.a)(t,2),s=a[0],c=a[1],i=Object(n.useState)({loading:!0,data:{exam:{exam:{}},questions:{questions:[]}}}),o=Object(r.a)(i,2),d=o[0],m=o[1];function u(){e.load();var t={},a={};Promise.all([k("GET","exam/".concat(e.token,"/").concat(e.exam_id),{},t),k("GET","question/".concat(e.token,"/").concat(e.exam_id),{},a)]).then((function(){e.load(),200===t.status&&200===a.status&&(console.log("yeah"),m(Object(l.a)(Object(l.a)({},d),{},{loading:!0,data:{exam:t.data,questions:a.data}})))}))}function j(e,t){try{if(null!==t){var a=e/t;return[Math.round(100*a),Math.round(360*a)]}return 0===e?[0,0]:[100,360]}catch(n){return[null,null]}}return Object(n.useEffect)((function(){u()}),[]),!0===d.loading?Object(b.jsxs)("div",{className:"exam-main",children:[Object(b.jsxs)("div",{className:"exam-action",children:[Object(b.jsx)("div",{className:"section-header",children:Object(b.jsx)("h2",{style:{margin:"0px"}})}),Object(b.jsxs)("div",{className:"exam-details shadow-5",children:[Object(b.jsxs)("h2",{style:{margin:"0px"},children:[Object(b.jsx)("span",{children:Object(b.jsx)("img",{style:{margin:"0px 10px 0px 10px"},onClick:function(){e.view({exam:!1,id:null})},src:E,height:"30",width:"30"})}),d.data.exam.exam.name," "]}),Object(b.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:"10px"},children:[Object(b.jsx)("div",{style:{margin:"5px",width:"60px",height:"60px",borderRadius:"30px",display:"flex",justifyContent:"center",alignItems:"center",backgroundImage:"conic-gradient(cornsilk 0deg, cornsilk ".concat(j(d.data.questions.questions.length,d.data.exam.exam.number)[1],"deg, rgba(137, 199, 255 ,0.4) ").concat(j(d.data.questions.questions.length,d.data.exam.exam.number)[1],"deg)")},children:Object(b.jsxs)("div",{style:{width:"50px",height:"50px",borderRadius:"30px",backgroundColor:"rgb(6, 72, 133)",textAlign:"center",paddingTop:"15px"},children:[j(d.data.questions.questions.length,d.data.exam.exam.number)[0],"%"]})}),100===j(d.data.questions.questions.length,d.data.exam.exam.number)[0]?Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{style:{margin:"0px"},children:"Questions complete.."}),Object(b.jsxs)("h5",{style:{margin:"4px 0px"},children:["exam link ",Object(b.jsx)("a",{href:"https:www.".concat(T,".com/#/hall/").concat(d.data.exam.exam["exam code"]),children:"https:www.".concat(T,".com/#/hall/").concat(d.data.exam.exam["exam code"])})]})]}):Object(b.jsx)("h4",{style:{margin:"0px"},children:"complete.... Set questions to get exam ready"})]})]}),Object(b.jsxs)("div",{className:"exam-action-group",children:[Object(b.jsx)("button",{className:"exam-action-butt grow",onClick:function(){c("question"),document.getElementsByClassName("exam-action-page")[0].style.display="flex"},children:Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{className:"".concat("question"===s?"active":""),style:{margin:"0px",textAlign:"start"},children:" Questions"}),Object(b.jsx)("h5",{style:{margin:"0px",marginTop:"10px"},children:" set and edit exam questions "})]})}),Object(b.jsx)("button",{className:"exam-action-butt grow",onClick:function(){c("edit"),document.getElementsByClassName("exam-action-page")[0].style.display="flex"},children:Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{className:"".concat("edit"===s?"active":""),style:{margin:"0px",textAlign:"start"},children:" Edit"}),Object(b.jsx)("h5",{style:{margin:"0px",marginTop:"10px"},children:" edit the exam configurations  "})]})}),Object(b.jsx)("button",{className:"exam-action-butt grow",onClick:function(){c("logs"),document.getElementsByClassName("exam-action-page")[0].style.display="flex"},children:Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{className:"".concat("logs"===s?"active":""),style:{margin:"0px",textAlign:"start"},children:"Logs"}),Object(b.jsx)("h5",{style:{margin:"0px",marginTop:"10px"},children:" view exam status as the exam is ongoing "})]})}),Object(b.jsx)("button",{className:"exam-action-butt grow",onClick:function(){c("delete"),document.getElementsByClassName("exam-action-page")[0].style.display="flex"},children:Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{className:"".concat("create"===s?"active":""),style:{margin:"0px",textAlign:"start",color:"red"},children:" Delete "}),Object(b.jsx)("h5",{style:{margin:"0px",marginTop:"10px",color:"red"},children:" delete exam.. "})]})})]})]}),Object(b.jsx)("div",{className:"exam-action-page",children:function(t){switch(t){case"question":return Object(b.jsx)(B,{load:e.load,token:e.token,id:e.exam_id,reload:u,questions:d.data.questions.questions});case"delete":return Object(b.jsxs)("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(b.jsx)("h3",{style:{margin:"5px"},children:" are you sure you want to delete "}),Object(b.jsxs)("h3",{style:{margin:"5px"},children:['"',d.data.exam.exam.name,'"']}),Object(b.jsxs)("div",{style:{width:"100%",padding:"0px 10px",display:"flex",justifyContent:"center"},children:[Object(b.jsx)("button",{className:"exam-create-but shadow-5 grow",onClick:function(){var t={};e.load(),k("DELETE","exam/".concat(e.token,"/").concat(e.exam_id),{},t).then((function(){200===t.status&&(e.load(),window.location.reload())}))},children:"Yes"}),Object(b.jsx)("button",{className:"exam-create-but shadow-5 grow",onClick:function(){c("question")},children:"No"})]})]});case"edit":return Object(b.jsx)(S,{exam:d.data.exam.exam,load:e.load,reload:u,token:e.token,id:e.exam_id});case"logs":return Object(b.jsx)(q,{exam:d.data.exam.exam,token:e.token,load:e.load})}}(s)})]}):Object(b.jsx)("div",{children:"loading...."})}function D(e){var t=Object(n.useState)([[],[],[]]),a=Object(r.a)(t,2),s=a[0],c=a[1],i=Object(n.useState)("all"),l=Object(r.a)(i,2),o=l[0],d=l[1];function m(t){e.view({exam:!0,id:t})}return Object(n.useEffect)((function(){if(!e.loading){var t,a=[],n=[],s=[],i=Object(f.a)(e.data.data.exams);try{for(i.s();!(t=i.n()).done;){var l=t.value;"created"===l.status||"starting"===l.status?a.push(l):"during"===l.status?n.push(l):s.push(l)}}catch(r){i.e(r)}finally{i.f()}c([a,n,s])}}),[e]),Object(b.jsxs)("div",{className:"exam-view",children:[Object(b.jsxs)("div",{className:"exam-view-actions",children:[Object(b.jsx)("div",{className:"exam-view-group grow"+("all"===o?" bottom-border":""),onClick:function(){d("all")},children:Object(b.jsxs)("h4",{style:{display:"flex"},children:["all ",Object(b.jsx)("div",{className:"exam-num",children:e.num})]})}),Object(b.jsx)("div",{className:"exam-view-group grow"+("start"===o?" bottom-border":""),onClick:function(){d("start")},children:Object(b.jsxs)("h4",{style:{display:"flex"},children:["yet-to-start ",Object(b.jsx)("div",{className:"exam-num",children:s[0].length})]})}),Object(b.jsx)("div",{className:"exam-view-group grow"+("ongo"===o?" bottom-border":""),onClick:function(){d("ongo")},children:Object(b.jsxs)("h4",{style:{display:"flex"},children:["ongoing ",Object(b.jsx)("div",{className:"exam-num",children:s[1].length})]})}),Object(b.jsx)("div",{className:"exam-view-group grow"+("com"===o?" bottom-border":""),onClick:function(){d("com")},children:Object(b.jsxs)("h4",{style:{display:"flex"},children:["completed ",Object(b.jsx)("div",{className:"exam-num",children:s[2].length})]})})]}),function(t){var a=[];switch(t){case"all":var n,c=Object(f.a)(e.data.data.exams);try{var i=function(){var e=n.value;a.push(Object(b.jsxs)("button",{className:"exam-list-button grow shadow-5",onClick:function(){m(e.id)},children:[Object(b.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"},children:[Object(b.jsx)("h4",{style:{margin:"0px"},children:e.name})," ",Object(b.jsx)("h4",{style:{margin:"0px"},children:new Date(e.date_stamp).toLocaleDateString()})]}),Object(b.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"},children:Object(b.jsxs)("h4",{style:{margin:"10px",color:"rgba(255, 248, 220, 0.474)"},children:["Status : ",e.status]})})]}))};for(c.s();!(n=c.n()).done;)i()}catch(g){c.e(g)}finally{c.f()}break;case"start":var l,r=Object(f.a)(s[0]);try{var o=function(){var e=l.value;a.push(Object(b.jsxs)("button",{className:"exam-list-button grow shadow-5",onClick:function(){m(e.id)},children:[Object(b.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"},children:[Object(b.jsx)("h4",{style:{margin:"0px"},children:e.name})," ",Object(b.jsx)("h4",{style:{margin:"0px"},children:new Date(e.date_stamp).toLocaleDateString()})]}),Object(b.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"},children:Object(b.jsxs)("h4",{style:{margin:"10px",color:"rgba(255, 248, 220, 0.474)"},children:["Status : ",e.status]})})]}))};for(r.s();!(l=r.n()).done;)o()}catch(g){r.e(g)}finally{r.f()}break;case"ongo":var d,u=Object(f.a)(s[1]);try{var j=function(){var e=d.value;a.push(Object(b.jsxs)("button",{className:"exam-list-button grow shadow-5",onClick:function(){m(e.id)},children:[Object(b.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"},children:[Object(b.jsx)("h4",{style:{margin:"0px"},children:e.name})," ",Object(b.jsx)("h4",{style:{margin:"0px"},children:new Date(e.date_stamp).toLocaleDateString()})]}),Object(b.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"},children:Object(b.jsxs)("h4",{style:{margin:"10px",color:"rgba(255, 248, 220, 0.474)"},children:["Status : ",e.status]})})]}))};for(u.s();!(d=u.n()).done;)j()}catch(g){u.e(g)}finally{u.f()}break;case"com":var x,h=Object(f.a)(s[2]);try{var p=function(){var e=x.value;a.push(Object(b.jsxs)("button",{className:"exam-list-button grow shadow-5",onClick:function(){m(e.id)},children:[Object(b.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"},children:[Object(b.jsx)("h4",{style:{margin:"0px"},children:e.name})," ",Object(b.jsx)("h4",{style:{margin:"0px"},children:new Date(e.date_stamp).toLocaleDateString()})]}),Object(b.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"},children:Object(b.jsxs)("h4",{style:{margin:"10px",color:"rgba(255, 248, 220, 0.474)"},children:["Status : ",e.status]})})]}))};for(h.s();!(x=h.n()).done;)p()}catch(g){h.e(g)}finally{h.f()}break;default:a=[]}return a.reverse(),0===a.length&&(a=Object(b.jsx)("div",{className:"exam-none",children:Object(b.jsx)("h5",{children:"all"===t?"you have no created exam":"no exam in this category"})})),Object(b.jsx)("div",{className:"exam-details-list",children:a})}(o)]})}function I(e){function t(e,t){var a=e.target.checked;"veri"===t&&(t="spec",a=a&&document.getElementById("spec-check").checked);var n=document.getElementById("".concat(t,"-header")),s=document.getElementById("".concat(t));if("start"===t){var c=document.getElementById("start-time");a?c.removeAttribute("disabled"):c.setAttribute("disabled","disabled"),c.style.border=a?"cornsilk 3px solid":"rgba(255, 248, 220, 0.474) 3px solid",a||(c.value=null)}n.style.color=a?"cornsilk":"rgba(255, 248, 220, 0.474)",a?s.removeAttribute("disabled"):s.setAttribute("disabled","disabled"),s.style.border=a?"cornsilk 3px solid":"rgba(255, 248, 220, 0.474) 3px solid",a||(s.value=null)}return Object(n.useEffect)((function(){var t=function(t){t.preventDefault();var a=new FormData(t.target);function n(e){var t=document.getElementById("create-header"),a=document.getElementsByClassName("exam-action-page")[0];t.innerHTML=e,a.scrollTop=0,setTimeout((function(){t.innerHTML="Fill form to create exam.."}),1500)}if(a.get("name").length<6||a.get("name").length>20)n("The exam title must be between 6 to 20 characters..");else if(new Date>new Date(a.get("start-date")+" "+a.get("start-time")))n("The start time must be ahead of the current time by at least 30 minutes");else{var s={name:a.get("name"),total:a.get("total"),number:a.get("questions"),num_of_students:a.get("students"),start:null===a.get("start-date")?null:new Date(a.get("start-date")+" "+a.get("start-time")).toJSON(),verification:"on"===a.get("veri-check"),specific:""===a.get("specific")?null:a.get("specific"),personal:a.get("personal"),duration:null===a.get("duration")?null:60*a.get("duration"),exam_code:Number(new Date)},c={};e.load(),k("POST","exam/".concat(e.token,"/aall"),s,c).then((function(){e.load(),200===c.status?(n("the exam has been created..."),window.location.reload(),e.change("view")):n("the exam could not be created")}))}},a=document.getElementById("exam-create-form");return a.addEventListener("submit",t),function(){a.removeEventListener("submit",t)}}),[]),Object(b.jsxs)("div",{className:"exam-create-div",children:[Object(b.jsxs)("div",{style:{display:"flex",position:"sticky"},children:[Object(b.jsx)("h2",{className:"back-button grow",style:{marginTop:"8px"},onClick:function(){document.getElementsByClassName("exam-action-page")[0].style.display="none"},children:"\u21b6 "}),Object(b.jsx)("h2",{id:"create-header",children:"Fill form to create exam.."})]}),Object(b.jsxs)("form",{id:"exam-create-form",children:[Object(b.jsx)("input",{className:"create-form-input",style:{border:"cornsilk 3px solid",textAlign:"center"},type:"text",name:"name",placeholder:"The Exam Title",required:!0}),Object(b.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"space-between",marginTop:"40px"},children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{style:{display:"flex"},children:[Object(b.jsx)("input",{type:"checkbox",name:"students-check",onChange:function(e){t(e,"students")}}),Object(b.jsx)("h4",{style:{margin:"0px",color:"rgba(255, 248, 220, 0.474)"},id:"students-header",children:"number of students "})]}),Object(b.jsx)("input",{className:"create-form-input",type:"number",min:"0",max:"200",name:"students",id:"students",disabled:!0})]}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{style:{display:"flex"},children:[Object(b.jsx)("input",{type:"checkbox",name:"questions-check",onChange:function(e){t(e,"questions")}}),Object(b.jsx)("h4",{style:{margin:"0px",color:"rgba(255, 248, 220, 0.474)"},id:"questions-header",children:"number of questions"})]}),Object(b.jsx)("input",{className:"create-form-input",type:"number",min:"0",max:"200",name:"questions",id:"questions",disabled:!0})]})]}),Object(b.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"space-between",marginTop:"40px"},children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{style:{display:"flex"},children:[Object(b.jsx)("input",{type:"checkbox",name:"total-check",onChange:function(e){t(e,"total")}}),Object(b.jsx)("h4",{style:{margin:"0px",color:"rgba(255, 248, 220, 0.474)"},id:"total-header",children:" total marks "})]}),Object(b.jsx)("input",{className:"create-form-input",type:"number",name:"total",id:"total",disabled:!0})]}),Object(b.jsxs)("div",{style:{marginLeft:"20px"},children:[Object(b.jsxs)("div",{style:{display:"flex"},children:[Object(b.jsx)("input",{type:"checkbox",name:"start-check",onChange:function(e){t(e,"start")}}),Object(b.jsx)("h4",{style:{margin:"0px",color:"rgba(255, 248, 220, 0.474)"},id:"start-header",children:"start time"})]}),Object(b.jsxs)("div",{style:{display:"flex"},children:[Object(b.jsx)("input",{className:"create-form-input",type:"date",name:"start-date",id:"start",disabled:!0}),Object(b.jsx)("input",{className:"create-form-input",type:"time",name:"start-time",id:"start-time",disabled:!0})]})]})]}),Object(b.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"space-between",marginTop:"40px"},children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{style:{display:"flex"},children:[Object(b.jsx)("input",{type:"checkbox",name:"duration-check",onChange:function(e){t(e,"duration")}}),Object(b.jsx)("h4",{style:{margin:"0px",color:"rgba(255, 248, 220, 0.474)"},id:"duration-header",children:" exam duration(mins)"})]}),Object(b.jsx)("input",{className:"create-form-input",type:"number",name:"duration",id:"duration",min:"5",max:"300",disabled:!0})]}),Object(b.jsxs)("div",{style:{marginLeft:"20px"},children:[Object(b.jsxs)("div",{style:{display:"flex"},children:[Object(b.jsx)("input",{type:"checkbox",name:"personal-check",onChange:function(e){t(e,"personal")}}),Object(b.jsx)("h4",{style:{margin:"0px",color:"rgba(255, 248, 220, 0.474)"},id:"personal-header",children:"student time(mins)"})]}),Object(b.jsx)("div",{style:{display:"flex"},children:Object(b.jsx)("input",{className:"create-form-input",type:"number",name:"personal",id:"personal",min:"5",max:"300",disabled:!0})})]})]}),Object(b.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"space-between",marginTop:"40px"},children:[Object(b.jsx)("div",{children:Object(b.jsxs)("div",{style:{display:"flex"},children:[Object(b.jsx)("input",{type:"checkbox",name:"veri-check",onChange:function(e){t(e,"veri")}}),Object(b.jsx)("h4",{style:{margin:"0px",color:"cornsilk"},id:"total-header",children:" student verification "})]})}),Object(b.jsxs)("div",{style:{marginLeft:"20px"},children:[Object(b.jsxs)("div",{style:{display:"flex"},children:[Object(b.jsx)("input",{type:"checkbox",name:"spec-check",id:"spec-check",onChange:function(e){t(e,"spec")}}),Object(b.jsx)("h4",{style:{margin:"0px",color:"rgba(255, 248, 220, 0.474)"},id:"spec-header",children:"specific students"})]}),Object(b.jsx)("div",{style:{display:"flex"},children:Object(b.jsx)("textarea",{className:"create-form-input",name:"spec",id:"spec"})})]})]}),Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(b.jsx)("button",{type:"submit",className:"exam-create-but shadow-5 grow",children:" Create exam"})})]})]})}var _=function(e){var t=Object(n.useState)({loading:!0,data:null}),a=Object(r.a)(t,2),s=a[0],c=a[1],i=Object(n.useState)({exam:!1,id:null}),l=Object(r.a)(i,2),o=l[0],d=l[1],m=Object(n.useState)("view"),u=Object(r.a)(m,2),j=u[0],x=u[1];return Object(n.useEffect)((function(){!function(){var t={};e.load(),k("GET","exam/".concat(e.token,"/all"),{},t).then((function(){e.load(),200===t.status&&c({loading:!1,data:t.data})}))}()}),[]),o.exam?Object(b.jsx)(L,{token:e.token,exam_id:o.id,load:e.load,view:d}):Object(b.jsxs)("div",{className:"exam-main",children:[Object(b.jsxs)("div",{className:"exam-action",children:[Object(b.jsx)("div",{className:"section-header",children:Object(b.jsx)("h2",{style:{margin:"0px"},children:"Manage Exams"})}),Object(b.jsxs)("div",{className:"exam-details shadow-5",children:[Object(b.jsxs)("h2",{style:{margin:"0px"},children:["Total exams: ",e.user.exam]}),Object(b.jsx)("div",{})]}),Object(b.jsxs)("div",{className:"exam-action-group",children:[Object(b.jsx)("button",{className:"exam-action-butt grow",onClick:function(){x("create"),document.getElementsByClassName("exam-action-page")[0].style.display="flex"},children:Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{className:"".concat("create"===j?"active":""),style:{margin:"0px",textAlign:"start"},children:" Create.."}),Object(b.jsx)("h5",{style:{margin:"0px",marginTop:"10px"},children:" make new exams "})]})}),Object(b.jsx)("button",{className:"exam-action-butt grow",onClick:function(){x("view"),document.getElementsByClassName("exam-action-page")[0].style.display="flex"},children:Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{className:"".concat("view"===j?"active":""),style:{margin:"0px",textAlign:"start"},children:" View.."}),Object(b.jsx)("h5",{style:{margin:"0px",marginTop:"10px"},children:" list of exams with exam actions "})]})}),Object(b.jsx)("button",{className:"exam-action-butt grow",onClick:function(){x("create"),document.getElementsByClassName("exam-action-page")[0].style.display="flex"},children:Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{className:"".concat("create"===j?"active":""),style:{margin:"0px",textAlign:"start"},children:" Create exam"}),Object(b.jsx)("h5",{style:{margin:"0px",marginTop:"10px"},children:" make new exams "})]})}),Object(b.jsx)("button",{className:"exam-action-butt grow",onClick:function(){x("create"),document.getElementsByClassName("exam-action-page")[0].style.display="flex"},children:Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{className:"".concat("create"===j?"active":""),style:{margin:"0px",textAlign:"start"},children:" Create exam"}),Object(b.jsx)("h5",{style:{margin:"0px",marginTop:"10px"},children:" make new exams "})]})})]})]}),Object(b.jsx)("div",{className:"exam-action-page",children:function(t){if(s.loading)return Object(b.jsx)("div",{});switch(t){case"view":return Object(b.jsx)(D,{data:s,num:e.user.exam,view:d});case"create":return Object(b.jsx)(I,{load:e.load,change:x,token:e.token})}}(j)})]})},A=a.p+"static/media/examio2.197b2829.png",M=a.p+"static/media/profile.05d0404a.png";function F(e){var t=Object(d.f)(),a=Object(n.useState)([[],[]]),s=Object(r.a)(a,2),c=s[0],i=s[1],l=Object(n.useState)("all"),o=Object(r.a)(l,2),m=o[0],u=o[1],j=function(e){t.push("/hall/"+e.exam["exam code"])},x=function(t){e.load();var a={};k("DELETE","exam/".concat(e.token,"/").concat(t.id),{},a).then((function(){e.load(),200===a.status&&e.reload()}))};function h(e){try{var t=document.getElementById("exam-details-"+e);"0px"===t.style.height?(t.style.height="150px",t.style.overflowY="scroll"):(t.style.height="0px",t.style.overflowY="hidden")}catch(a){}}var p=function(e){return"registered"===e.status?"created"===e.exam.status?null===e.exam.start?Object(b.jsxs)("div",{className:"centralize",children:[Object(b.jsx)("h2",{children:"This exam has no time, specified by the examinerr"}),Object(b.jsx)("button",{className:"exam-create-but danger",onClick:function(){return x(e)},children:" delete "})]}):Object(b.jsxs)("div",{className:"centralize",children:[Object(b.jsx)("h2",{children:"time till exam .."}),Object(b.jsx)(C,{start:e.exam.start,children:Object(b.jsx)("button",{className:"exam-create-but",onClick:function(){return j(e)},children:"Join Exam"})}),Object(b.jsx)("button",{className:"exam-create-but danger",onClick:function(){return x(e)},children:" delete "})]}):"starting"===e.exam.status?Object(b.jsxs)("div",{className:"centralize",children:[Object(b.jsx)("h2",{children:"The exam will soon be starting.."}),Object(b.jsx)("button",{className:"exam-create-but",onClick:function(){return j(e)},children:"Join Exam"}),Object(b.jsx)("button",{className:"exam-create-but danger",onClick:function(){return x(e)},children:" delete "})]}):"during"===e.exam.status?Object(b.jsxs)("div",{className:"centralize",children:[Object(b.jsx)("h2",{children:"The exam is currently ongoing.."}),Object(b.jsx)("button",{className:"exam-create-but",onClick:function(){return j(e)},children:"Join Exam"}),Object(b.jsx)("button",{className:"exam-create-but danger",onClick:function(){return x(e)},children:" delete "})]}):Object(b.jsxs)("div",{className:"centralize",children:[Object(b.jsx)("h2",{children:"The exam has already been concluded.."}),Object(b.jsx)("button",{className:"exam-create-but danger",onClick:function(){return x(e)},children:" delete "})]}):Object(b.jsxs)("div",{className:"centralize",children:[Object(b.jsx)("h3",{children:"Exam completed"}),Object(b.jsx)("button",{className:"exam-create-but",children:"View result"}),Object(b.jsx)("button",{className:"exam-create-but danger",onClick:function(){return x(e)},children:" delete "})]})};Object(n.useEffect)((function(){try{if(!e.loading){var t,a=[],n=[],s=Object(f.a)(e.exams);try{for(s.s();!(t=s.n()).done;){var c=t.value;"registered"===c.status?a.push(c):n.push(c)}}catch(l){s.e(l)}finally{s.f()}i([a,n])}}catch(r){}}),[e]);try{return Object(b.jsxs)("div",{className:"exam-view",children:[Object(b.jsxs)("div",{style:{display:"flex",position:"sticky"},className:"pad-10",children:[Object(b.jsx)("h2",{className:"back-button grow",style:{marginTop:"8px"},onClick:function(){document.getElementsByClassName("exam-action-page")[0].style.display="none"},children:"\u21b6 "}),Object(b.jsx)("h2",{id:"create-header",children:"View Exams..."})]}),Object(b.jsxs)("div",{className:"exam-view-actions",children:[Object(b.jsx)("div",{className:"exam-view-group grow"+("all"===m?" bottom-border":""),onClick:function(){u("all")},children:Object(b.jsxs)("h4",{style:{display:"flex"},children:["all ",Object(b.jsx)("div",{className:"exam-num",children:e.exams.length})]})}),Object(b.jsx)("div",{className:"exam-view-group grow"+("start"===m?" bottom-border":""),onClick:function(){u("start")},children:Object(b.jsxs)("h4",{style:{display:"flex"},children:["pending ",Object(b.jsx)("div",{className:"exam-num",children:c[0].length})]})}),Object(b.jsx)("div",{className:"exam-view-group grow"+("com"===m?" bottom-border":""),onClick:function(){u("com")},children:Object(b.jsxs)("h4",{style:{display:"flex"},children:["completed ",Object(b.jsx)("div",{className:"exam-num",children:c[1].length})]})})]}),function(t){try{var a=[];switch(t){case"all":var n,s=Object(f.a)(e.exams);try{var i=function(){var e=n.value;a.push(Object(b.jsxs)("div",{children:[Object(b.jsxs)("button",{className:"exam-list-button grow shadow-5",onClick:function(){h(e.id)},children:[Object(b.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"},children:[Object(b.jsx)("h4",{style:{margin:"0px"},children:e.exam.name})," ",Object(b.jsx)("h4",{style:{margin:"0px"},children:new Date(e.date_stamp).toLocaleDateString()})]}),Object(b.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"},children:Object(b.jsxs)("h4",{style:{margin:"10px",color:"rgba(255, 248, 220, 0.474)"},children:["Status : ",e.status]})})]}),Object(b.jsx)("div",{style:{height:"0px",overflowY:"hidden",transition:"0.8s all ease"},id:"exam-details-".concat(e.id),children:p(e)})]}))};for(s.s();!(n=s.n()).done;)i()}catch(j){s.e(j)}finally{s.f()}break;case"start":var l,r=Object(f.a)(c[0]);try{var o=function(){var e=l.value;a.push(Object(b.jsxs)("div",{children:[Object(b.jsxs)("button",{className:"exam-list-button grow shadow-5",onClick:function(){h(e.id)},children:[Object(b.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"},children:[Object(b.jsx)("h4",{style:{margin:"0px"},children:e.exam.name})," ",Object(b.jsx)("h4",{style:{margin:"0px"},children:new Date(e.date_stamp).toLocaleDateString()})]}),Object(b.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"},children:Object(b.jsxs)("h4",{style:{margin:"10px",color:"rgba(255, 248, 220, 0.474)"},children:["Status : ",e.status]})})]}),Object(b.jsx)("div",{style:{height:"0px",overflowY:"hidden",transition:"0.8s all ease"},id:"exam-details-".concat(e.id),children:p(e)})]}))};for(r.s();!(l=r.n()).done;)o()}catch(j){r.e(j)}finally{r.f()}break;case"com":var d,m=Object(f.a)(c[1]);try{var u=function(){var e=d.value;a.push(Object(b.jsxs)("div",{children:[Object(b.jsxs)("button",{className:"exam-list-button grow shadow-5",onClick:function(){h(e.id)},children:[Object(b.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"},children:[Object(b.jsx)("h4",{style:{margin:"0px"},children:e.exam.name})," ",Object(b.jsx)("h4",{style:{margin:"0px"},children:new Date(e.date_stamp).toLocaleDateString()})]}),Object(b.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"},children:Object(b.jsxs)("h4",{style:{margin:"10px",color:"rgba(255, 248, 220, 0.474)"},children:["Status : ",e.status]})})]}),Object(b.jsx)("div",{style:{height:"0px",overflowY:"hidden",transition:"0.8s all ease"},id:"exam-details-".concat(e.id),children:p(e)})]}))};for(m.s();!(d=m.n()).done;)u()}catch(j){m.e(j)}finally{m.f()}break;default:a=[]}return a.reverse(),0===a.length&&(a=Object(b.jsx)("div",{className:"exam-none",children:Object(b.jsx)("h5",{children:"all"===t?"you have no registered exam":"no exam in this category"})})),Object(b.jsx)("div",{className:"exam-details-list",children:a})}catch(x){return Object(b.jsx)("div",{children:"loading"})}}(m)]})}catch(g){return Object(b.jsx)("div",{children:"Loading..."})}}function H(e){function t(e){var t=document.getElementById("create-header");t.innerHTML=e,setTimeout((function(){t.innerHTML="Enter exam code to register.."}),2e3)}function a(a){e.load(),a.preventDefault();var n=new FormData(a.target),s={};k("POST","exam/".concat(e.token,"/all"),{id:n.get("exam-code")},s).then((function(){if(e.load(),200===s.status)t("Exam registeration successfully.."),e.reload();else if(403===s.status){var a=s.data.status;"not allowed for this exam"===a?t("\u2757 Sorry this exam is for specific people"):"exam has already ended"===a?t("Oops the exam has already ended"):"already registered"===a&&t("You have already registered for this exam")}else t(404===s.status?"Exam code is not valid \u2757\u2757":"Exam could not be registered..")}))}return Object(n.useEffect)((function(){var e=document.getElementById("exam-register-div");return e.addEventListener("submit",a),function(){e.removeEventListener("submit",a)}}),[]),Object(b.jsxs)("div",{className:"exam-create-div",children:[Object(b.jsxs)("div",{style:{display:"flex",position:"sticky"},children:[Object(b.jsx)("h2",{className:"back-button grow",style:{marginTop:"8px"},onClick:function(){document.getElementsByClassName("exam-action-page")[0].style.display="none"},children:"\u21b6 "}),Object(b.jsx)("h2",{id:"create-header",children:"Enter exam code to register.."})]}),Object(b.jsxs)("form",{id:"exam-register-div",style:{alignItems:"center",marginTop:"50px",border:"2px solid rgba(242, 242, 242, 0.529)",borderRadius:"10px",padding:"10px"},children:[Object(b.jsx)("input",{type:"text",name:"exam-code",style:{height:"40px"},className:"create-form-input",placeholder:"exam code.."}),Object(b.jsx)("button",{className:"exam-create-but",style:{height:"50px"},type:"submit",children:" Register"})]})]})}var P=function(e){var t=Object(n.useState)("view"),a=Object(r.a)(t,2),s=a[0],c=a[1],i=Object(n.useState)({data:null}),o=Object(r.a)(i,2),d=o[0],m=o[1],u=function(){var t={};e.load(),k("GET","exam/".concat(e.token,"/all"),{},t).then((function(){e.load(),200===t.status&&m(Object(l.a)(Object(l.a)({},d),{},{data:t.data.exams}))}))};return Object(n.useEffect)((function(){u()}),[]),Object(b.jsxs)("div",{className:"exam-main",children:[Object(b.jsxs)("div",{className:"exam-action",children:[Object(b.jsx)("div",{className:"section-header",children:Object(b.jsx)("h2",{style:{margin:"0px"},children:"Manage Exams"})}),Object(b.jsxs)("div",{className:"exam-details shadow-5",children:[Object(b.jsxs)("h2",{style:{margin:"0px"},children:["Total exams: ",e.user.exam]}),Object(b.jsx)("div",{})]}),Object(b.jsxs)("div",{className:"exam-action-group",children:[Object(b.jsx)("button",{className:"exam-action-butt grow",onClick:function(){c("create"),document.getElementsByClassName("exam-action-page")[0].style.display="flex"},children:Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{className:"".concat("create"===s?"active":""),style:{margin:"0px",textAlign:"start"},children:" Register.."}),Object(b.jsx)("h5",{style:{margin:"0px",marginTop:"10px"},children:" register for new exams.. "})]})}),Object(b.jsx)("button",{className:"exam-action-butt grow",onClick:function(){c("view"),document.getElementsByClassName("exam-action-page")[0].style.display="flex"},children:Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{className:"".concat("view"===s?"active":""),style:{margin:"0px",textAlign:"start"},children:" View.."}),Object(b.jsx)("h5",{style:{margin:"0px",marginTop:"10px"},children:" list of exams registered "})]})}),Object(b.jsx)("button",{className:"exam-action-butt grow",onClick:function(){c("create"),document.getElementsByClassName("exam-action-page")[0].style.display="flex"},children:Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{className:"".concat("create"===s?"active":""),style:{margin:"0px",textAlign:"start"},children:" Create exam"}),Object(b.jsx)("h5",{style:{margin:"0px",marginTop:"10px"},children:" make new exams "})]})}),Object(b.jsx)("button",{className:"exam-action-butt grow",onClick:function(){c("create"),document.getElementsByClassName("exam-action-page")[0].style.display="flex"},children:Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{className:"".concat("create"===s?"active":""),style:{margin:"0px",textAlign:"start"},children:" Create exam"}),Object(b.jsx)("h5",{style:{margin:"0px",marginTop:"10px"},children:" make new exams "})]})})]})]}),Object(b.jsx)("div",{className:"exam-action-page",children:function(t){switch(t){case"create":return Object(b.jsx)(H,{load:e.load,token:e.token,reload:u});case"view":return Object(b.jsx)(F,{exams:d.data,token:e.token,load:e.load,reload:u});default:return Object(b.jsx)("div",{children:"fuck.."})}}(s)})]})};a(43);function G(e){var t=Object(n.useState)(function(e){var t=Object(O.a)(e);return t[0]=t[0].toUpperCase(),t.join("")}(e.page)),a=Object(r.a)(t,2),s=a[0],c=a[1],i=Object(n.useState)([]),l=Object(r.a)(i,2),o=l[0],d=l[1],m=["Dashboard","Exams","Settings","Profile"],u=[];return Object(n.useEffect)((function(){var t,a=Object(f.a)(m);try{var n=function(){var a=t.value;a===s?u.push(Object(b.jsx)("div",{className:"side-but-cont border-left",onClick:function(){window.innerWidth<620&&(document.getElementsByClassName("account-side")[0].style.width="0px",document.getElementsByClassName("mobile-div")[0].style.display="none")},children:Object(b.jsx)("button",{className:"side-but",style:{backgroundColor:"rgb(46, 45, 45)"},children:a})})):u.push(Object(b.jsx)("div",{className:"side-but-cont ".concat(m.indexOf(a)-m.indexOf(s)===-1?"":"bottom-border"),children:Object(b.jsx)("button",{className:"side-but",onClick:function(){return function(t){c(t),e.url_push("/account/"+t.toLowerCase()),window.innerWidth<620&&(document.getElementsByClassName("account-side")[0].style.width="0px",document.getElementsByClassName("mobile-div")[0].style.display="none")}(a)},children:a})}))};for(a.s();!(t=a.n()).done;)n()}catch(i){a.e(i)}finally{a.f()}d(u)}),[s]),Object(b.jsxs)("div",{className:"account-side",children:[Object(b.jsx)("div",{className:"logo-div",children:Object(b.jsx)("img",{src:A,height:"20",width:"80"})}),Object(b.jsxs)("div",{className:"side-profile",children:[Object(b.jsx)("div",{className:"profile-pic",children:Object(b.jsx)("img",{src:M})}),Object(b.jsxs)("div",{className:"profile-name",children:[Object(b.jsx)("h3",{style:{margin:"3px"},children:e.user.name}),Object(b.jsx)("h5",{style:{margin:"3px"},className:"leylow",children:e.user.email})]})]}),Object(b.jsx)("div",{className:"side-actions",children:o})]})}var Y=function(e){var t=Object(d.f)(),a=Object(n.useState)({}),s=Object(r.a)(a,2),c=s[0],i=s[1],l=Object(n.useState)(!1),o=Object(r.a)(l,2),m=o[0],u=o[1],j=!1,x=function(){u(j=!j)},h={};return Object(n.useEffect)((function(){null!==e.user.token?(x(),k("GET","info/".concat(e.user.token),{},h).then((function(){x(),200===h.status?i(h.data.info):t.push("/home")}))):t.push("/home")}),[]),Object(b.jsxs)("div",{className:"account-main",children:[Object(b.jsxs)("div",{className:"mobile-nav",children:[Object(b.jsx)("img",{src:A,height:"20",width:"80"}),Object(b.jsx)("h2",{style:{cursor:"pointer"},onClick:function(){document.getElementsByClassName("account-side")[0].style.width="250px",setTimeout((function(){document.getElementsByClassName("mobile-div")[0].style.display="block"}),650)},children:"\u2630"})]}),Object(b.jsx)("div",{className:"mobile-div",onClick:function(){document.getElementsByClassName("account-side")[0].style.width="0px",document.getElementsByClassName("mobile-div")[0].style.display="none"}}),Object(b.jsx)(p,{show:m}),Object(b.jsx)(G,{url_push:t.push,user:c,page:e.match.params.page}),Object(b.jsx)("div",{className:"account-cont",children:function(t){try{return"exams"===t?c.role?Object(b.jsx)(_,{user:c,load:x,token:e.user.token}):Object(b.jsx)(P,{user:c,load:x,token:e.user.token}):Object(b.jsx)("h1",{children:"404.. page not found"})}catch(a){return Object(b.jsx)("div",{children:"loading...."})}}(e.match.params.page)})]})};a(22);var R=function(e){var t,a=Object(d.f)();try{t=e.match.params.type}catch(c){t=null}function s(n){console.log(t);var s={};n.preventDefault();var c=new FormData(n.target),i={email:c.get("email"),password:c.get("password")};e.load(),k("POST","login",i,s).then((function(){if(e.load(),200===s.status){var n=s.data;n.login&&(e.loginFunc(n),"oneTime"===t&&window.close(),a.push("/account/dashboard/"))}else!function(e){var t=document.getElementById("log-head");t.innerHTML=e,setTimeout((function(){t.innerHTML="Sign in.."}),2500)}("Wrong details..")}))}return Object(n.useEffect)((function(){var e=document.getElementById("login-form");return e.addEventListener("submit",s),function(){e.removeEventListener("submit",s)}}),[]),Object(b.jsxs)("div",{className:"center-div",children:[Object(b.jsx)("div",{className:"logo",children:Object(b.jsx)("img",{src:A,height:"20",width:"90"})}),Object(b.jsx)("button",{className:"log-but grow",onClick:function(){a.push("/signup")},children:"sign up"}),Object(b.jsxs)("form",{id:"login-form",className:"shadow-5",children:[Object(b.jsx)("div",{className:"log-header",children:Object(b.jsx)("h2",{style:{margin:"0px"},id:"log-head",children:"Sign in.."})}),Object(b.jsxs)("div",{className:"log-form-arrange",children:[Object(b.jsx)("input",{type:"email",name:"email",className:"log-input",placeholder:"email",required:"required"}),Object(b.jsx)("input",{type:"password",name:"password",className:"log-input",placeholder:"password",required:"required"}),Object(b.jsx)("button",{type:"submit",className:"log-butt grow",children:" login"})]})]}),Object(b.jsx)("div",{className:"log-foot",children:Object(b.jsxs)("h4",{children:["examio \xa9 ",(new Date).getFullYear()]})})]})};var z=function(e){var t=Object(d.f)();function a(e){var t=document.getElementById("log-head");t.innerHTML=e,setTimeout((function(){t.innerHTML="Sign up.."}),2e3)}return Object(n.useEffect)((function(){function n(n){n.preventDefault();var s=n.target,c=new FormData(s);if(c.get("first").length<2|c.get("last").length<2)a("name is too short..");else if(c.get("password").length<5)a("password too short..");else if(c.get("password").length>10)a("password too long ...");else if(c.get("password")!==c.get("password2"))a("passwords do not match..");else{var i={};e.load(),k("POST","signup",{name:c.get("first")+" "+c.get("last"),phone:c.get("phone"),email:c.get("email"),password:c.get("password"),role:"examiner"===c.get("role")},i).then((function(){e.load(),200===i.status?(a("accout create successfull"),t.push("/login")):401===i.status?a("email already exists..."):(a("couldn't create account"),t.push("/home"))}))}}var s=document.getElementById("signup-form");return s.addEventListener("submit",n),function(){s.removeEventListener("submit",n)}}),[]),Object(b.jsxs)("div",{className:"center-div",children:[Object(b.jsx)("div",{className:"logo",children:Object(b.jsx)("img",{src:A,height:"20",width:"90"})}),Object(b.jsx)("button",{className:"log-but grow",onClick:function(){t.push("/login")},children:"login"}),Object(b.jsxs)("form",{id:"signup-form",className:"shadow-5",children:[Object(b.jsx)("div",{className:"log-header",children:Object(b.jsx)("h2",{style:{margin:"0px"},id:"log-head",children:"Sign up.."})}),Object(b.jsxs)("div",{className:"log-form-arrange sign-arrange",children:[Object(b.jsx)("input",{type:"text",name:"first",className:"log-input sign-input",placeholder:"first name",required:"required"}),Object(b.jsx)("input",{type:"text",name:"last",className:"log-input sign-input",placeholder:"last name",required:"required"}),Object(b.jsx)("input",{type:"email",name:"email",className:"log-input sign-input",placeholder:"email",required:"required"}),Object(b.jsx)("input",{type:"number",name:"phone",className:"log-input sign-input",placeholder:"phone_no",required:"required"}),Object(b.jsx)("input",{type:"password",name:"password",className:"log-input sign-input",placeholder:"password",required:"required"}),Object(b.jsx)("input",{type:"password",name:"password2",className:"log-input sign-input",placeholder:"confirm password",required:"required"}),Object(b.jsxs)("select",{name:"role",className:"log-input sign-input",placeholder:"",children:[Object(b.jsx)("option",{style:{color:"black"},value:"examiner",children:"As examiner"}),Object(b.jsx)("option",{style:{color:"black"},value:"examinee",children:"As examinee"})]}),Object(b.jsx)("button",{type:"submit",className:"log-butt grow sign-butt",children:" login"})]})]}),Object(b.jsx)("div",{className:"log-foot",children:Object(b.jsxs)("h4",{children:["examio \xa9 ",(new Date).getFullYear()]})})]})};a(44);function J(){return Object(b.jsxs)("div",{className:"exam-nav",children:[Object(b.jsx)("img",{src:A,height:"20",width:"90"}),Object(b.jsx)("button",{className:"hall-but shadow-5 grow",style:{marginTop:"0px"},onClick:function(){},children:"Submit"}),Object(b.jsx)("button",{children:"settings"})]})}function Q(){return Object(b.jsx)("div",{className:"exam-foot",children:Object(b.jsx)("h3",{children:"Best of Luck  "})})}function U(e){return Object(b.jsxs)("div",{className:"exam-title shadow-5",children:[Object(b.jsx)("h2",{children:e.title}),Object(b.jsx)(V,{time:e.time})]})}function V(e){var t;return Object(n.useEffect)((function(){var a=e.time,n=document.getElementById("exam-timer");function s(e){return e<10?"0"+e:e}return t=setInterval((function(){a<0&&clearInterval(t);var e,c=(e=a,[Math.floor(e/3600),Math.floor(e%3600/60),Math.floor(e%3600%60)]),i=Object(r.a)(c,3),l=i[0],o=i[1],d=i[2];n.innerHTML="".concat(0===l?"":s(l)+":").concat(s(o),":").concat(s(d)),a--}),1e3),function(){try{clearInterval(t)}catch(e){}}})),Object(b.jsx)("h3",{id:"exam-timer",children:"00:00"})}function W(e){var t=e.question;function a(e){var t,a,n=e.target,s=(t=Number(n.name.split("-")[1]))<10?"00"+t:t<100?"0"+t:"".concat(t),c=!1,i=u.a.get("answer").split("----"),l=Object(f.a)(i);try{for(l.s();!(a=l.n()).done;){var r=a.value;r.slice(0,3)===s&&(r=s+n.value,c=!0)}}catch(o){l.e(o)}finally{l.f()}c&&i.push(s+n.value),u.a.set("answer",i.join("----"))}function n(e){var t=e.question;return Object(b.jsx)("div",{className:"exam-div",children:function(e){var t,n=Object(b.jsxs)("h2",{children:[e.number,". ",e.question]});if("o"===e.mode){var s,c=[],i=Object(f.a)(e.options);try{for(i.s();!(s=i.n()).done;){var l=s.value;c.push(Object(b.jsxs)("div",{className:"exam-option",children:[Object(b.jsx)("input",{className:"exam-choice",type:"radio",name:"question-"+e.number,value:l,onChange:function(e){a(e)}}),Object(b.jsxs)("h3",{children:[" ",(t=e.options.indexOf(l),["a","b","c","d","e","f"][t]),". ",l]})]}))}}catch(r){i.e(r)}finally{i.f()}return[n,c]}return[n,Object(b.jsx)("textarea",{name:"question-"+e.number,className:"exam-answer",onChange:function(e){a(e)}})]}(t)})}return Object(b.jsx)("div",{className:"exam-paper shadow-5",children:function(e){var t,a=[],s=Object(f.a)(e);try{for(s.s();!(t=s.n()).done;){var c=t.value;a.push(Object(b.jsx)(n,{question:c}))}}catch(i){s.e(i)}finally{s.f()}return a}(t)})}var K=function(e){var t=e.exam;return Object(n.useEffect)((function(){void 0===u.a.get("answers")&&u.a.set("answers","")}),[]),Object(b.jsxs)("div",{className:"exam-page",children:[Object(b.jsx)(J,{}),Object(b.jsxs)("div",{className:"exam-body",children:[Object(b.jsx)(U,{title:t.details.name,time:t.details.duration}),Object(b.jsx)(W,{question:t.questions})]}),Object(b.jsx)(Q,{})]})};function X(){return Object(b.jsx)("div",{className:"hall-nav",children:Object(b.jsx)("img",{src:A,height:"20",width:"90"})})}function Z(){return Object(b.jsx)("div",{className:"hall-foot",children:Object(b.jsxs)("h3",{className:"small-marg",children:[" examio \xa9 ",(new Date).getFullYear()," "]})})}function $(e){var t=Object(d.f)(),a=Object(n.useState)(null),s=Object(r.a)(a,2),c=s[0],i=s[1];return Object(n.useEffect)((function(){var t=u.a.get("current-exam");void 0!==t?t.split("----")[1]===e.code&&i("during"):i("start")}),[]),Object(b.jsx)("div",{className:"center-div-2",children:function(a){function n(){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("h3",{className:"small-marg",style:{textAlign:"center"},children:[' switch account from "',e.user.info.name,'" ? ']}),Object(b.jsx)("h3",{className:"small-marg",style:{marginBottom:"30px"},children:Object(b.jsx)("span",{className:"hall-link grow shadow-5",onClick:function(){var e=window.outerHeight/2-250,t=window.outerWidth/2-250,a=window.open("/examio/#/login/oneTime","Login to account","height=500,width=500,top=".concat(e,",left=").concat(t,",location=no"));console.log(a),a.onunload=function(e){console.log("close"),window.location.reload()}},children:"Click here"})})]})}var s=function(){console.log("esdas");var t={};k("PUT","exam/".concat(e.token,"/").concat(e.code),{id:e.code},t).then((function(){200===t.status&&(i("during"),console.log("update"),u.a.set("current-exam","during----".concat(e.code)))}))};if("start"===a){if("exam has not begun"===e.exam.status)return null!==e.exam.start_time?Object(b.jsxs)("div",{children:[Object(b.jsx)(n,{}),Object(b.jsx)("h2",{className:"small-marg",style:{textAlign:"center"},children:"Time till exam"}),Object(b.jsx)(C,{start:e.exam.start_time,big:!0,children:Object(b.jsx)("button",{className:"hall-but shadow-5 grow",onClick:function(){s()},children:"START"})})]}):Object(b.jsx)("h2",{children:"The exam has not been started by the examiner."});if("exam waiting room"===e.exam.status){var c=e.exam.details;return Object(b.jsxs)("div",{children:[Object(b.jsx)(n,{}),Object(b.jsx)("h2",{className:"small-marg",style:{textAlign:"center"},children:"Exam will soon begin"}),Object(b.jsx)(C,{start:c.start_time,big:!0,children:Object(b.jsx)("button",{className:"hall-but shadow-5 grow",onClick:function(){s()},children:"START"})})]})}if("the exam is ongoing"===e.exam.status)return Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(b.jsx)(n,{}),Object(b.jsx)("h2",{className:"small-marg",style:{textAlign:"center"},children:"The exam has begun.."}),Object(b.jsx)("button",{className:"hall-but shadow-5 grow",onClick:function(){s()},children:" START "})]});if("the exam has ended"===e.exam.status)return Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(b.jsx)("h2",{className:"small-marg",style:{textAlign:"center"},children:"Sorry the exam has already ended"}),Object(b.jsx)("button",{className:"hall-but shadow-5 grow",onClick:function(){t.push("/account/dashboard")},children:"Go back"})]})}else if("during"===a){var l=e.exam;if("the exam is ongoing"===l.status)return Object(b.jsx)(K,{exam:l,token:e.token,code:e.code})}}(c)})}var ee=function(e){var t=Object(n.useState)({user:null,hall:null}),a=Object(r.a)(t,2),s=a[0],c=a[1],i=!1,o=Object(n.useState)(!1),d=Object(r.a)(o,2),m=d[0],u=d[1];function j(){u(i=!i)}var x=e.match.params.token,h=function(){j();var t={},a={};Promise.all([k("GET","info/".concat(e.user.token),{},t),k("GET","hall/".concat(e.user.token,"/").concat(x),{},a)]).then((function(){j();var e=null,n=null;200===t.status&&(e=t.data),404!==a.status&&(n=a.data),c(Object(l.a)(Object(l.a)({},s),{},{user:e,hall:n}))}))};return Object(n.useEffect)((function(){h()}),[]),Object(b.jsxs)("div",{children:[Object(b.jsx)(p,{show:m}),Object(b.jsx)(X,{}),function(t){if(null===t.hall)return Object(b.jsxs)("div",{className:"center-div-2",children:[Object(b.jsx)("h1",{className:"small-marg not-clear",children:"Oops  !!!"}),Object(b.jsx)("h4",{className:"small-marg not-clear",children:"Exam not found..."}),Object(b.jsx)("h5",{className:"small-marg not-clear",children:"Recheck link and try again"})]});var a=t.hall,n=t.user;return null===n?"not authorized to write this exam"===a.status?Object(b.jsxs)("div",{className:"center-div-2",children:[Object(b.jsx)("h2",{className:"small-marg",children:" This exam requires some verificaion"}),Object(b.jsx)("h3",{className:"small-marg",children:" You will need to login on this device."}),Object(b.jsx)("button",{className:"hall-but shadow-5 grow",onClick:function(){var e=window.outerHeight/2-250,t=window.outerWidth/2-250;window.open("/examio/#/login/oneTime","Login to account","height=500,width=500,top=".concat(e,",left=").concat(t,",location=no")).onunload=function(e){console.log("close"),window.location.reload()}},children:"Login"})]}):Object(b.jsx)($,{exam:a,reload:h}):"not registered for this examination"===a.status?Object(b.jsxs)("div",{className:"center-div-2",children:[Object(b.jsxs)("h3",{className:"small-marg",id:"message",children:['"',n.info.name,'" is not registered for this exam']}),Object(b.jsx)("button",{className:"hall-but shadow-5 grow",onClick:function(t){!function(t){function a(e){document.getElementById("message").innerHTML=e}console.log(t);var n={};j(),k("POST","exam/".concat(e.user.token,"/create"),{id:x},n).then((function(){if(j(),403===n.status){var e=n.data.status;"exam has already ended"===e?a("the exam has already been concluded.."):"not allowed for this exam"===e&&a("you are not allowed to write this exam"),t.target.style.display="none"}else 404===n.status?(a("this exam no longer exists.."),t.target.style.display="none"):200===n.status&&(t.target.style.display="none",a("Exam registration successfull"),setTimeout((function(){h()}),1e3))}))}(t)},children:"Register"})]}):Object(b.jsx)($,{exam:a,user:n,reload:h,code:x,token:e.user.token})}(s),Object(b.jsx)(Z,{})]})};var te=function(){x.a.init();var e=Object(n.useState)({name:u.a.get("name"),token:u.a.get("token")}),t=Object(r.a)(e,2),a=t[0],s=t[1],c=!1,i=Object(n.useState)(!1),m=Object(r.a)(i,2),j=m[0],h=m[1];function f(){h(c=!c)}var O=function(e){return void 0!==e.name&&void 0!==e.token?(u.a.set("name",e.name,{expires:7}),u.a.set("token",e.token,{expires:7}),s({name:e.name,token:e.token}),"the data is correct"):"the data is not correct"},y=function(){s({name:null,token:null}),u.a.remove("name"),u.a.remove("token")};return Object(b.jsxs)(o.a,{basename:"/examio",children:[Object(b.jsx)(p,{show:j}),Object(b.jsxs)(d.c,{children:[Object(b.jsx)(d.a,{path:"/",exact:!0,component:function(e){return Object(b.jsx)(g,Object(l.a)(Object(l.a)({},e),{},{user:a}))}}),Object(b.jsx)(d.a,{path:"/home",exact:!0,component:function(e){return Object(b.jsx)(g,Object(l.a)(Object(l.a)({},e),{},{user:a}))}}),Object(b.jsx)(d.a,{path:"/account/:page",exact:!0,component:function(e){return Object(b.jsx)(Y,Object(l.a)(Object(l.a)({user:a,loginFunc:O,logoutFunc:y},e),{},{load:f}))}}),Object(b.jsx)(d.a,{path:"/login",exact:!0,component:function(){return Object(b.jsx)(R,{loginFunc:O,load:f})}}),Object(b.jsx)(d.a,{path:"/login/:type",exact:!0,component:function(e){return Object(b.jsx)(R,Object(l.a)({loginFunc:O,load:f},e))}}),Object(b.jsx)(d.a,{path:"/signup",exact:!0,component:function(){return Object(b.jsx)(z,{load:f})}}),Object(b.jsx)(d.a,{path:"/hall/:token",exact:!0,component:function(e){return Object(b.jsx)(ee,Object(l.a)(Object(l.a)({},e),{},{user:a,load:f}))}})]})]})},ae=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,46)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),c(e),i(e)}))};i.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(te,{})}),document.getElementById("root")),ae()}},[[45,1,2]]]);
//# sourceMappingURL=main.3061fe47.chunk.js.map